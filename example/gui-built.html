<!doctype html>
<html>
  <head>
  <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width">
    <script src="speakClient.js"></script>
    <script src="js/jquery.js"></script>
    <script src="js/jquery-ui.js"></script>
    <script src="../dist/mcluhan.js"></script>
    <link rel="stylesheet" type="text/css" href="css/controls-dark.css">
    <script src="js/nexusUI.js"></script>
    <script src="js/rack-abs.js"></script>
    <script src="js/jest.js"></script>

    <!-- this is also in space.html ... needs to be encapsulated eventually  -->
    <script src="https://maps.googleapis.com/maps/api/js?v=3.exp"></script>

<!--
    <script>
        function startgapi() {
          console.log(gapi)
          gapi.client.setApiKey("AIzaSyCtqhb-u4gJyt8f-vuf7tDadc68MvaUDn4")
          gapi.client.load("customsearch", 1);
        }
       
 
    </script>

    <script src="https://apis.google.com/js/client.js?onload=startgapi"></script>-->


  </head>
  <body>

  	<header>mcluhan.js: &nbsp; real.time net.art</header>

    <div style="width:100%;overflow:auto:border:solid 1px white;margin:10px">
    <div style="width:10000px;">

      <div id="shelves" style="float:left;">
      </div>

  <!--    <div style="width:100px;background-color:none;float:left;">
        <button onclick="makewall(this.innerHTML)">default</button>
        <button onclick="makewall(this.innerHTML)">line</button>
        <button onclick="makewall(this.innerHTML)">big1</button>
        <button onclick="makewall(this.innerHTML)">grid4</button>
        <button onclick="makewall(this.innerHTML)">fauve</button>
  -->

        <div style="position:fixed;right:0px;top:0px;width:100px;height:100%;padding:30px 10px;background-color:black;color:#eee;font-size:8pt">
          <canvas nx="toggle" id="presencecontrol" style="width:30px;height:30px;float:left"></canvas> 
          <div style="line-height:30px;float:left"> presence</div>

          
          <canvas nx="text" id="voicecontrol" style="width:100px;height:60px;clear:both;"></canvas>
          <div style="padding:0px 0px 10px">voice</div>

          <!-- gesture playlist -->
          <canvas nx="ghostlist" style="margin:0px;padding:0px;border-radius:0px;position:relative;right:0px"></canvas>
          <div id="playlist1" style="margin-top:-4px"></div>
          
        </div>
      </div>
    </div>
    </div>



  	<script>

      m.deck(8)

      nx.onload = function() {

        nx.colorize("fill","#444")
        nx.colorize("accent","#1bd")
        nx.colorize("border","#666")
        nx.colorize("black","#ccc")
       // ghost1.watch();
       // 
       // 
        jest = new Jest("playlist1",ghostlist1,49)
       // jest2 = new Jest("playlist2",ghostlist2,50)

        voicecontrol.on('*',function(data) {
          if (data.text) {
            siri.say(data.text)
          }
        })
      
      /*
      // receive all traffic

        nx.on('alltraffic',function(widget,data) {
           console.log(widget)
           if (widget.action) {
              console.log(widget.action.toString())
           }
           
        })  */

      }




      $(function() {

        // how to load this????
       // loadScript("https://maps.googleapis.com/maps/api/js?v=3.exp");
        
      })


      //MOVE TO OWN FILE

      var makewall = function(type) {
        var theshelf = addShelf(type)
       // theshelf.wall = new wall(type)
        addRack("wall",theshelf)
        return theshelf.wall;
      }

      var a = makewall("line")

       var b = makewall("line")


      setTimeout(function() {
      //  a.video = a.watch("kremlin")
      //  addRack("film",a.shelf,a.video)
       // b.video = b.watch("kremlin")
       // addRack("film",b.shelf,b.video)
      },4000)


    </script>

  </body>
</html>