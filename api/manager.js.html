<!DOCTYPE html>

<html lang="en">
<head>
	<meta charset="utf-8">
	<title>McLuhan.js Source: core/manager.js</title>

	<!--[if lt IE 9]>
	<script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
	<![endif]-->
	<link type="text/css" rel="stylesheet" href="styles/sunlight.default.css">

	
	<link type="text/css" rel="stylesheet" href="styles/site.benly.css">
	
</head>

<body>
<div class="container-fluid">
	<div class="navbar navbar-fixed-top ">
		<div class="navbar-inner">
			<a class="brand" href="index.html">McLuhan.js</a>
			<ul class="nav">
				
				<li class="dropdown">
					<a href="classes.list.html" class="dropdown-toggle" data-toggle="dropdown">Classes<b
						class="caret"></b></a>

					<ul class="dropdown-menu ">
						
						<li>
							<a href="Cassette.html">Cassette</a>
						</li>
						
						<li>
							<a href="Film.html">Film</a>
						</li>
						
						<li>
							<a href="Hack.html">Hack</a>
						</li>
						
						<li>
							<a href="Lattice.html">Lattice</a>
						</li>
						
						<li>
							<a href="Manager.html">Manager</a>
						</li>
						
						<li>
							<a href="Medium.html">Medium</a>
						</li>
						
						<li>
							<a href="Paper.html">Paper</a>
						</li>
						
						<li>
							<a href="Photo.html">Photo</a>
						</li>
						
						<li>
							<a href="Presence.html">Presence</a>
						</li>
						
						<li>
							<a href="Rhythm.html">Rhythm</a>
						</li>
						
						<li>
							<a href="Voice.html">Voice</a>
						</li>
						
						<li>
							<a href="Wall.html">Wall</a>
						</li>
						
						<li>
							<a href="Window.html">Window</a>
						</li>
						

					</ul>
				</li>
				
			</ul>
		</div>
	</div>

	<div class="row-fluid">

		
			<div class="span12">
				
				<div id="main">
					


		<h1 class="page-title">Source: core/manager.js</h1>
    
    <section>
        <article>
            <pre class="sunlight-highlight-javascript linenums">var util = require('util');
var EventEmitter = require('events').EventEmitter;
var Tone = require('tone')
var math = require('../utils/math')
var extend = require('extend');
var StaticProject = require('../guides/static')

/** 
  @title McLuhan JS API
  @overview A toolkit for performative web browsing
  @author Ben Taylor
  @copyright &amp;copy; 2015
  @license MIT
 */ 

var spacer = false;


/** 

  @constructor
  @description Methods for all global actions that affect groups of media objects.
  
*/

var Manager = module.exports = function() {

  /** @type {Number} */
  this.spaceLimit = 8;

  // Will use eventually
  // EventEmitter.apply(this)
  
  extend(this,math)

}

util.inherits(Manager, EventEmitter)


/**
 * @method
 * @description  initialize and open all browser windows to use
 */
Manager.prototype.init = function() {
  //deprecated
  for (var i=0;i&lt;this.spaceLimit;i++) {
    m.makeSpace()
  }
}


Manager.prototype.deck = function(limit) {
  this.spaceLimit = limit
  windex = 0;
  for (var i=0;i&lt;this.spaceLimit;i++) {
    m.makeSpace()
  }
}

Manager.prototype.time = 0

Manager.prototype.pretimeline = function() {
  this.time += 1
  this.time = Math.round(this.time)
  this.timeline(this.time)
}

Manager.prototype.start = function() {
  this.timer = setInterval(this.pretimeline.bind(this),100)
}




/**
 * Add a new media object
 * @param {string} type Type of media object to add
 * @param {Array} arr Array that this object is added into
 * @param {object} params parameters (x,y,w,h,spaces,parent)
 */
Manager.prototype.add = function(type, arr, params) {
  arr.push( new (require("../media")[type])(params) )
  var i = arr.length-1;
  return i;
}

Manager.prototype.film = function(src,params) {
    !window.films ? window.films = new Array() : null;
    var i = this.add("film",films,params)
    src ? films[i].load(src) : false;
}

Manager.prototype.makeSpace = function(params) {
    var i = this.add("window",_spaces,params)
}

Manager.prototype.peer = function(x,y,w,h) {
  if (windex >= _spaces.length) {
    windex = 0;
  }
  var params = {
    x: x ? x : false,
    y: y ? y : false,
    w: w ? w : false,
    h: h ? h : false
  }
  _spaces[windex].show(params);
  windex++;
  return _spaces[windex-1]
}

Manager.prototype.pare = function(size) {
  size = size ? size : 1;
  for (var i=0;i&lt;size;i++) {
    spaces[0].hide()
  }
}


Manager.prototype.makeWall = function(num,config) {
  var wall = new Array()
  for (var i=0;i&lt;num;i++) {
    wall.push(this.useSpace(200*(i+1),50,200,400))
  }
  walls.push(wall)

//  return 
}


/* GUI THINGS */


Manager.prototype.static = new StaticProject()
</pre>
        </article>
    </section>





				</div>

				<div class="clearfix"></div>
				<footer>
					
					McLuhan.js
					<br />
					
					
		<span class="copyright">
		Ben Taylor &copy; 2015
		</span>
					<br />
					
		<span class="jsdoc-message">
		Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.0-alpha5</a>
		on Sat Apr 11 2015 17:38:39 GMT-0500 (CDT) using the <a href="https://github.com/terryweiss/docstrap">DocStrap template</a>.
		</span>
				</footer>
			</div>

			
			<br clear="both">
		</div>

	</div>
	<script src="scripts/sunlight.js"></script>
	<script src="scripts/sunlight.javascript.js"></script>
	<script src="scripts/sunlight-plugin.doclinks.js"></script>
	<script src="scripts/sunlight-plugin.linenumbers.js"></script>
	<script src="scripts/sunlight-plugin.menu.js"></script>
	<script src="scripts/jquery.min.js"></script>
	<script src="scripts/jquery.scrollTo.js"></script>
	<script src="scripts/jquery.localScroll.js"></script>
	<script src="scripts/bootstrap-dropdown.js"></script>
	<script src="scripts/toc.js"></script>


	<script>  Sunlight.highlightAll({lineNumbers:true,  showMenu: true, enableDoclinks :true}); </script>

	<script>
		$( function () {
			$( "#toc" ).toc( {
				selectors   : "h1,h2,h3,h4",
				showAndHide : false,
				scrollTo    : 60
			} );
			$( "#toc>ul" ).addClass( "nav nav-pills nav-stacked" );
			$( "#main span[id^='toc']" ).addClass( "toc-shim" );

		} );
	</script>

	

</body>
</html>
